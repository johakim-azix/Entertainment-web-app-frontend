"use strict";(self["webpackChunkentertainment_web_app_frontend"]=self["webpackChunkentertainment_web_app_frontend"]||[]).push([[431],{3431:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var n=s(3396),a=s(7139),i=s(9041);const o=e=>((0,n.dD)("data-v-a13c8c86"),e=e(),(0,n.Cn)(),e),r={class:"container"},l={class:"content"},u=o((()=>(0,n._)("div",{class:"logo"},[(0,n._)("img",{src:i,alt:""})],-1))),m={class:"loader"},c={class:"form-container"},d=o((()=>(0,n._)("h1",{class:"form-container__title"},"Login",-1))),g=o((()=>(0,n._)("div",{class:"error"},null,-1))),h={class:"form-container__form"},p={class:"form-field"},_=o((()=>(0,n._)("span",{class:"focus-border"},null,-1))),f={class:"form-field"},v=o((()=>(0,n._)("span",{class:"focus-border"},null,-1))),b={class:"shortcut"},y=(0,n.Uk)(" Already have an account? ");function C(e,t,s,i,o,C){return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",l,[u,(0,n._)("div",m,[(0,n._)("div",{class:(0,a.C_)({spin:i.store.state.authCredential.isLogin})},null,2),(0,n._)("div",c,[d,g,(0,n._)("div",h,[(0,n._)("div",p,[(0,n._)("input",{onKeyup:t[0]||(t[0]=(...e)=>C.onTyping&&C.onTyping(...e)),type:"text",placeholder:"Email address"},null,32),_]),(0,n._)("div",f,[(0,n._)("input",{onKeyup:t[1]||(t[1]=(...e)=>C.onTyping&&C.onTyping(...e)),type:"password",placeholder:"Password"},null,32),v]),(0,n._)("button",{class:"submit",disabled:"",onClick:t[2]||(t[2]=(...e)=>C.onFormSubmit&&C.onFormSubmit(...e))},"Login to your account"),(0,n._)("div",b,[y,(0,n._)("a",{onClick:t[3]||(t[3]=(...e)=>C.navigateToRegister&&C.navigateToRegister(...e))}," Sign up")])])])])])])}var T={name:"loginView",methods:{navigateToRegister(){this.store.state.isNavigatingInFromLogin=!0,this.$router.push({name:"register"})},onTyping(){const e=document.getElementsByClassName("form-field"),t=String(e[0].getElementsByTagName("input")[0].value),s=String(e[1].getElementsByTagName("input")[0].value);0!==t.trim().length&&0!==s.trim().length?this.store.state.authCredential.isInputsValid=!0:this.store.state.authCredential.isInputsValid=!1,this.toggleSubmitEnable()},toggleSubmitEnable(){const e=document.getElementsByClassName("submit")[0];e.disabled=!(this.store.state.authCredential.isLogin||this.store.state.authCredential.isInputsValid)},async onFormSubmit(){this.toggleSubmitEnable();const e=document.getElementsByClassName("error")[0],t=document.getElementsByClassName("form-field"),s=String(t[0].getElementsByTagName("input")[0].value),n=String(t[1].getElementsByTagName("input")[0].value),a=await this.store.methods.login(s,n);200===a?await this.$router.push({name:"homePage"}):(400!==a&&401!==a||(e.innerText="Seems like the provided login and password don't match!"),500===a&&(e.innerText="We're facing an issue try again if it persists come back latter!"),this.store.state.authCredential.isLogin=!1,e.classList.add("animate"),setTimeout((()=>{e.classList.remove("animate"),this.toggleSubmitEnable()}),3900))}},beforeCreate(){this.store.methods.checkSessionUserInfo()&&this.$router.push({name:"homePage"})},setup(){const e=(0,n.f3)("store");return{store:e}}},S=s(89);const E=(0,S.Z)(T,[["render",C],["__scopeId","data-v-a13c8c86"]]);var w=E}}]);
//# sourceMappingURL=431.0fafaa7f.js.map